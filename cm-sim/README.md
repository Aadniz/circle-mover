This is a deterministice simulation shared on client and server.
